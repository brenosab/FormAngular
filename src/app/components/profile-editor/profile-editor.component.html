<!-- <div class="input-group mb-3">
    <div class="input-group-prepend">
      <button mdbBtn color="primary" outline="true" size="md" class="m-0 px-3 py-2" type="button" id="button-addon1"
        mdbWavesEffect>Button</button>
    </div>
    <input type="text" class="form-control" placeholder="" aria-label="Example text with button addon"
      aria-describedby="button-addon1">
</div> -->

<form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="form-group container">   
    <div class="row form-group">
        <div class="col-md-3">
            <label>First Name:</label>
            <div class="md-form input-group">
                <input input="text" formControlName="firstName" placeholder="First Name" aria-label="First Name"
                class="form-control ng-untouched ng-pristine ng-invalid" aria-describedby="basic-addon1" minlength="2" required>        
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1"><mat-icon>search</mat-icon></span>
                </div>
            </div>
            <div *ngIf="profileForm.controls?.firstName?.errors &&(profileForm.controls?.firstName?.touched || profileForm.controls?.firstName?.dirty)" 
            class="alert alert-danger">
                Name is required
            </div>
        </div>
        <div class="col-md-3 form-group">
            <label>Last Name:</label>
            <div class="md-form input-group">
                <input input="text" formControlName="lastName" placeholder="Last Name" aria-label="Last Name"
                class="form-control ng-untouched ng-pristine ng-invalid" aria-describedby="basic-addon1" minlength="2" required>        
                <div class="input-group-prepend">
                    <button mat-raised-button color="primary" id="basic-addon1">
                        <mat-icon>search</mat-icon>
                    </button>
                </div>
            </div>
            <div *ngIf="profileForm.controls?.lastName?.errors &&(profileForm.controls?.lastName?.touched || profileForm.controls?.lastName?.dirty)" 
            class="alert alert-danger">
                Last name is required
            </div>
        </div>
    </div>
    
    <div class="form-group">
        <label>    
            Email:
            <input input="text" formControlName="email" class="form-control" required minlength="2" 
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" id="email"name="email" ngModel >
            <!-- <div *ngIf="profileForm.controls?.email?.errors &&(profileForm.controls?.email?.touched || profileForm.controls?.email?.dirty)" class="text-danger">
                Invalid email
            </div> -->
            <div *ngIf="profileForm.controls?.email?.errors &&(profileForm.controls?.email?.touched || profileForm.controls?.email?.dirty)" 
            class="alert alert-danger">
                Invalid email
            </div>
        </label>
    </div>    

    <div class="row">
        <div class="col-md-3">
            <div class="form-group">
                <label for="power">User Type</label>
                <select class="form-control" id="power" required>
                    <option *ngFor="let pow of powers" [value]="pow">{{pow}}</option>
                </select>
            </div>
        </div>
    </div>

    <div formGroupName="address">

        <div class="form-group">
            <h2>Address</h2>
        </div>
        
        <div class="form-group">
            <label>
                Street:
                <input type="text" formControlName="street" class="form-control">
            </label>
        </div>
        <div class="form-group">
            <label>
                City:
                <input type="text" formControlName="city" class="form-control">
            </label>
        </div>
        <div class="form-group">
            <label>
                State:
                <input type="text" formControlName="state" class="form-control">
            </label>
        </div>
        <div class="form-group">
            <label>
                Zip Code:
                <input type="text" formControlName="zip" class="form-control">
            </label>
        </div>
    </div>

    <!-- <p>
        <button (click)="updateProfile()">Update Profile</button>
    </p>
    <p>
        Form Status: {{ profileForm.status }}
    </p>
    <button type="submit" [disabled]="!profileForm.valid">Submit</button> -->
</form>